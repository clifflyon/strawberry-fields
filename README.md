This repository contains the source and data for a solution to the strawberry
fields problem.  Data and source files are as follows:

```
data/
	rectangles.txt 
	sample_output.txt 

src/
	solve_problems.py
	field.py
	rectangle.py
	memoize.py
```
	
The main program is solve_problems.py.  It requires python 2.6 or higher.

Most often, the answer (total cost) generated by my program for the 9 problems 
was $1,465.  However, the program is not deterministic: a set of solutions with 
a higher total cost is possible.  I ran my program using python 2.6.  On a fast, 
modern laptop the program runs in about 5 seconds.

The problem seems related to vertex cover and set packing, where the berries
are vertices, and the rectangles are subsets.  Notably, though, the 
rectangles are not provided and must be generated, and the subsets in the cover
must be disjoint.

My approach borrows from agglomerative clustering.  The idea is to consider each
berry a singleton set, and then begin merging sets in a way that reduces cost.
In theory, the start state is a field where each strawberry is covered by a 1x1
greenhouse.  However, we can reduce the search space a great deal by 
pre-aggregating some of the 'obvious' clusters.  To find these clusters, the 
program draws a series of horizontal lines through the grid, which will suggest 
clusters. Then, we draw vertical lines through, and see where the passes agree.  
This generates the start state, or the initial greenhouse configuration.

From there, the algorithm combines pairs of greenhouses.  Each merge generates
a new successor state, which in turn is expanded at the next step.

The program terminates when there are only two clusters left, or when no 
successors may be generated.  At that point, the best solution so far is 
reported.  

At each step, a maximum of N successors are explored.  Setting N lower will
produce a faster run with a higher cost. For example, lowering N from 100 to 10 
reduced the number or function calls by a factor of 5, and increased cost from
$1,465 to $1,512.  N is set to 100 by default.  Most of the time is spent on the
"face" field, the last problem.

Run the program like this:

	PATH_TO_PTYHON solve_problems.py
	
It expects "rectangles.txt" to be in ../data/rectangles.txt.  If it isn't, you
can specify a new location like this:

	PATH_TO_PTYHON solve_problems.py --input=/path/to/rectangles.txt

Note the program requires python 2.6 or higher.

